<!--
/************************ LICENCE ***************************
* 	This file is part of <SourceData SmartFigure frontend code to search and navigate the SourceData resource>
*     Copyright (C) <2016>  EMBO and Swiss Institute of Bioinformatics
*
*     This program is free software: you can redistribute it and/or modify
*     it under the terms of the GNU Affero General Public License as
*     published by the Free Software Foundation, either version 3 of the
*     License, or (at your option) any later version.
*
*     This program is distributed in the hope that it will be useful,
*     but WITHOUT ANY WARRANTY; without even the implied warranty of
*     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
*     GNU Affero General Public License for more details.
*
*     You should have received a copy of the GNU Affero General Public License
*    along with this program.  If not, see <http://www.gnu.org/licenses/>
*
*****************************************************************/
-->

<div class="col-md-8 col-md-offset-2">
<h3>{{vm.siteTitle}} - reset password</h3>
<div class="panel panel-default">
	<div class="panel panel-heading">
		<div class="panel-title">Set a new password</div>
	</div>
	<div class = "panel-body">
		<form ng-submit = 'vm.setPassword()' novalidate class = 'form-horizontal' name = 'form' role = 'form'>
			<div class="form-group" ng-class="{ 'has-error': form.password.$dirty && form.password.$error.required }">
				<label class = 'col-sm-3 control-label' for="password">Password</label>
				<div class = 'col-sm-6'><input type="password" name="password" id="password" class="form-control" ng-model="vm.user.password" required /></div>
				<div class = 'col-sm-3'><span ng-show="form.password.$dirty && form.password.$error.required" class="help-block">Password is required</span></div>
			</div>
			<div class="form-group" ng-class="{ 'has-error': form.password2.$dirty && form.password2.$error.compareTo }">
				<label class = 'col-sm-3 control-label' for="password2">Confirm password</label>
				<div class = 'col-sm-6'><input type="password" name="password2" id="password2" class="form-control" ng-model="vm.user.password2" required compare-to='vm.user.password'/></div>
				<div class = 'col-sm-3'><span ng-show="form.password2.$dirty && form.password2.$error.compareTo" class="help-block">Password not confirmed</span></div>
			</div>
			<div class="form-group">
				<div class = 'col-sm-6 col-sm-offset-3'>
					<button type="submit" ng-disabled="form.$invalid" class="btn btn-primary">Set password</button>
					<a href="#/login" class="btn btn-link">Cancel</a>

				</div>
			</div>
		</form>
	</div>
</div>
</div>
